<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS/style.css" />
    <link rel="stylesheet" href="CSS/singleview.css" />
    <link rel="stylesheet" href="https://use.typekit.net/mfo6xyh.css" />
    <!-- fonte :) -->
    <title>Document</title>
  </head>
  <body>
    <header>
      <nav>
        <h2>Vores vinyler</h2>
        <h2>Kontakt os</h2>
      </nav>
      <section id="splash"></section>
      <a href="forside.html"
        ><img class="logo" src="billeder/logo_VV.svg" alt="logo" />
      </a>
    </header>
    <main>
      <div class="back-button-container">
        <button class="back">Tilbage til katalog</button>
      </div>
      <section id="content">
        <article class="vinyler">
          <h3 class="kunstner"></h3>
          <img src="" alt="" class="vinyl-img" />
          <div class="vinyl-info">
            <h4 class="navn"></h4>
            <p class="year"></p>
            <p class="beskrivelse"></p>
            <p class="pris"></p>
          </div>
        </article>
      </section>
    </main>
    <footer>
      <div class="footerlogo">
        <a href="#splash">
          <img src="billeder/test2_logo_vv.png" alt="" />
        </a>
      </div>

      <div class="findos">
        <h3>Find os:</h3>
        <p>Guldbergsgade 29N, 2200 København.</p>
      </div>

      <div class="socialemedier">
        <h3>Følg os:</h3>
        <div class="ikoner">
          <div class="fblogo">
            <a href="https://www.facebook.com">
              <img src="billeder/facebook_ikon.svg" alt=""
            /></a>
          </div>
          <div class="instalogo">
            <a href="https://www.instagram.com">
              <img src="billeder/insta.svg" alt="" />
            </a>
          </div>
        </div>
      </div>
    </footer>
    <template></template>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get("id");

      const jsonUrl = "https://passionprojekt-7e1a.restdb.io/rest/plader";
      let vinyl;

      console.log("ID", id);

      document.addEventListener("DOMContentLoaded", hentData);

      async function hentData() {
        const jsonData = await fetch(
          `https://passionprojekt-7e1a.restdb.io/rest/plader/${id}`,
          {
            headers: {
              "x-apikey": "620f6a1b34fd6215658587b8",
            },
          }
        );
        vinyl = await jsonData.json();
        console.log(vinyl);
        visDetaljer();
      }

      function visDetaljer() {
        document.querySelector(".vinyl-img").src = `billeder/${vinyl.billede}`;
        document.querySelector(".navn").textContent = `${vinyl.navn}`;
        document.querySelector(".kunstner").textContent = `${vinyl.kunstner}`;
        document.querySelector(".year").textContent = `${vinyl.aarstal}`;
        document.querySelector(
          ".beskrivelse"
        ).textContent = `${vinyl.beskrivelse}`;
        document.querySelector(".pris").textContent = `${vinyl.pris},-`;
        document.querySelector(".back").addEventListener("click", gaaTilbage);
      }

      function gaaTilbage() {
        history.back();
      }
    </script>
  </body>
</html>
